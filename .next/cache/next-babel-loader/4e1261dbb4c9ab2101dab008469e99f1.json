{"ast":null,"code":"function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar butter = require('buttercms')(\"8d6d186981c0902966f48b2f7db8a6aaa5205822\");\n\nexport function getCategories() {\n  return _getCategories.apply(this, arguments);\n}\n\nfunction _getCategories() {\n  _getCategories = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var fetchMain, blob, res, categoriesFetch, categoriesData;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return fetch(\"https://api.buttercms.com/v2/content/?keys=categories&auth_token=8d6d186981c0902966f48b2f7db8a6aaa5205822\");\n\n          case 2:\n            fetchMain = _context.sent;\n            _context.next = 5;\n            return fetchMain.json();\n\n          case 5:\n            blob = _context.sent;\n            _context.next = 8;\n            return blob;\n\n          case 8:\n            res = _context.sent;\n            _context.next = 11;\n            return butter.content.retrieve(['categories']);\n\n          case 11:\n            categoriesFetch = _context.sent;\n            _context.next = 14;\n            return categoriesFetch;\n\n          case 14:\n            categoriesData = _context.sent;\n            console.log(categoriesData.data.data.categories, 'the data from the butter api');\n            return _context.abrupt(\"return\", res.data.categories);\n\n          case 17:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _getCategories.apply(this, arguments);\n}\n\nexport function getSubcategories() {\n  return _getSubcategories.apply(this, arguments);\n}\n\nfunction _getSubcategories() {\n  _getSubcategories = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n    var fetchSubs, blob, res;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return fetch(\"https://api.buttercms.com/v2/content/?keys=subcategories&auth_token=8d6d186981c0902966f48b2f7db8a6aaa5205822\");\n\n          case 2:\n            fetchSubs = _context2.sent;\n            _context2.next = 5;\n            return fetchSubs.json();\n\n          case 5:\n            blob = _context2.sent;\n            _context2.next = 8;\n            return blob;\n\n          case 8:\n            res = _context2.sent;\n            return _context2.abrupt(\"return\", res.data.subcategories);\n\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _getSubcategories.apply(this, arguments);\n}","map":{"version":3,"sources":["/Users/bryanatencia/demo/how-to-hub-butter-next-demo/functions/index.js"],"names":["butter","require","getCategories","fetch","fetchMain","json","blob","res","content","retrieve","categoriesFetch","categoriesData","console","log","data","categories","getSubcategories","fetchSubs","subcategories"],"mappings":";;;;AAAA,IAAIA,MAAM,GAAGC,OAAO,CAAC,WAAD,CAAP,CAAqB,0CAArB,CAAb;;AAEA,gBAAsBC,aAAtB;AAAA;AAAA;;;2EAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACiBC,KAAK,CAAC,2GAAD,CADtB;;AAAA;AACDC,YAAAA,SADC;AAAA;AAAA,mBAEYA,SAAS,CAACC,IAAV,EAFZ;;AAAA;AAEDC,YAAAA,IAFC;AAAA;AAAA,mBAGYA,IAHZ;;AAAA;AAGDC,YAAAA,GAHC;AAAA;AAAA,mBAMuBP,MAAM,CAACQ,OAAP,CAAeC,QAAf,CAAwB,CAAC,YAAD,CAAxB,CANvB;;AAAA;AAMDC,YAAAA,eANC;AAAA;AAAA,mBAOsBA,eAPtB;;AAAA;AAODC,YAAAA,cAPC;AASLC,YAAAA,OAAO,CAACC,GAAR,CAAYF,cAAc,CAACG,IAAf,CAAoBA,IAApB,CAAyBC,UAArC,EAAiD,8BAAjD;AATK,6CAYER,GAAG,CAACO,IAAJ,CAASC,UAZX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAeP,gBAAsBC,gBAAtB;AAAA;AAAA;;;8EAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACiBb,KAAK,CAAC,8GAAD,CADtB;;AAAA;AACDc,YAAAA,SADC;AAAA;AAAA,mBAEYA,SAAS,CAACZ,IAAV,EAFZ;;AAAA;AAEDC,YAAAA,IAFC;AAAA;AAAA,mBAGYA,IAHZ;;AAAA;AAGDC,YAAAA,GAHC;AAAA,8CAIEA,GAAG,CAACO,IAAJ,CAASI,aAJX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["var butter = require('buttercms')(\"8d6d186981c0902966f48b2f7db8a6aaa5205822\");\n\nexport async function getCategories() {\n  let fetchMain = await fetch(\"https://api.buttercms.com/v2/content/?keys=categories&auth_token=8d6d186981c0902966f48b2f7db8a6aaa5205822\")\n  let blob = await fetchMain.json()\n  let res  = await blob\n\n\n  let categoriesFetch = await butter.content.retrieve(['categories'])\n  let categoriesData = await categoriesFetch\n\n  console.log(categoriesData.data.data.categories, 'the data from the butter api')\n\n\n  return res.data.categories\n}\n\nexport async function getSubcategories() {\n  let fetchSubs = await fetch(\"https://api.buttercms.com/v2/content/?keys=subcategories&auth_token=8d6d186981c0902966f48b2f7db8a6aaa5205822\")\n  let blob = await fetchSubs.json()\n  let res  = await blob\n  return res.data.subcategories\n}\n"]},"metadata":{},"sourceType":"module"}